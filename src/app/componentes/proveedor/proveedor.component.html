

<div class="container mt-4">
  <form [formGroup]="generalForm" class="w-100">
      <h5 class="mb-3">Registro del Proveedor</h5>
    <div class="row g-3">

      <!-- Nombre del médico -->
      <div class="col-md-12">
        <label for="nombre" class="form-label">Nombre o razon social</label>
        <input
          type="text"
          id="nombre"
          formControlName="nombre"
          (input)="toUpperCase($event, 'nombre')"
          placeholder="Ej: JUAN PEREZ"
          class="form-control"
          required
        />
      </div>

      <!-- Registro médico -->
      <div class="col-md-6">
        <label for="nit" class="form-label">Nit</label>
        <input
          type="text"
          id="nit"
          formControlName="nit"
          (blur)="buscarRegistro()"
          placeholder="Ej: 900018045-5"
          class="form-control"
          required
        />
      </div>

      <!-- Especialidad -->
      <div class="col-md-6">
        <label for="direccion" class="form-label">Dirección</label>
        <input
          type="text"
          id="direccion"
          formControlName="direccion"
          (input)="toUpperCase($event, 'direccion')"
          placeholder="Ej: CL 3 # 12-50"
          class="form-control"
        
        />
      </div>

      <!-- Tipo de documento -->
      <div class="col-md-6">
        <label for="telefono" class="form-label">Telefono</label>
        <input
          type="text"
          id="telefono"
          formControlName="telefono"
          (input)="toUpperCase($event, 'telefono')"
          placeholder="Ej: 3125678934"
          class="form-control"
        />
      </div>

   

      <!-- Estado -->
      <div class="col-md-6 d-flex align-items-center">
        <input
          class="form-check-input me-2"
          type="checkbox"
          id="estado"
          formControlName="estado"
        />
        <label for="estado" class="form-check-label">Activo</label>
      </div>
      </div>
  <div class="row g-3">
      <!-- Botones -->
      <div class="col-md-6">
        <button type="button" class="btn btn-success w-100" (click)="create()">
          {{ nombrebtn }}
        </button>
      </div>
      <div class="col-md-6">
        <button type="button" class="btn btn-secondary w-100" (click)="onNoClick()">
          Cerrar
        </button>
      </div>
    </div>
  </form>

  <!-- Mensaje si no hay registros -->
  <div class="alert alert-info my-4" *ngIf="listaregistrosFiltrados?.length === 0">
    No hay registros para mostrar.
  </div>

  <!-- Tabla de médicos -->
  <div *ngIf="listaregistrosFiltrados?.length > 0" class="table-responsive mt-4">
    <table class="table table-striped table-hover table-sm">
      <thead class="table-primary">
        <tr>
          <th>#</th>
          <th>Nombre</th>
          <th>Nit</th>
          <th>Gestión</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let item of listaregistrosFiltrados; let i = index"
          [style.color]="item.estado ? 'black' : 'red'"
        >
          <td>{{ i + 1 }}</td>       
          <td>{{ primerasmayusculas(item.nombre) }}</td>
          <td>{{ primerasmayusculas(item.nit) }}</td>
          <td>
            <button class="btn btn-sm me-1" (click)="mostrarRegistro(item)" title="Editar">
              <mat-icon style="color: #009A94">edit</mat-icon>
            </button>
            <button class="btn btn-sm" (click)="eliminarRegistro(item)" title="Eliminar">
              <mat-icon style="color: red">delete_sweep</mat-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
