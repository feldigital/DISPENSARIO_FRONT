<div class="container mt-4">
  <form [formGroup]="generalForm" class="w-100">
    <h5 class="mb-3">Registro de IPS</h5>

    <!-- Nombre -->
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre de la IPS</label>
      <div class="input-group">
        <input id="nombre" type="text" formControlName="nombre"
          (input)="toUpperCase($event,'nombre')"
          class="form-control" placeholder="Ingrese el nombre de la IPS" required>
      
      </div>
    </div>

    <!-- NIT -->
    <div class="mb-3">
      <label for="nit" class="form-label">NIT</label>
      <div class="input-group">
        <input id="nit" type="number" formControlName="nit"
          class="form-control" placeholder="Ingrese el NIT" required>      
      </div>
    </div>

    <!-- Código de habilitación -->
    <div class="mb-3">
      <label for="codHabilitacion" class="form-label">Código de habilitación</label>
      <div class="input-group">
        <input id="codHabilitacion" type="number" formControlName="codHabilitacion"
          class="form-control" placeholder="Ingrese el código de habilitación" required>
     
      </div>
    </div>

    <!-- Estado -->
    <div class="form-check form-switch mb-3">
      <input class="form-check-input" type="checkbox" role="switch" id="estado" formControlName="estado">
      <label class="form-check-label" for="estado">Estado activo</label>
    </div>

    <!-- Botones -->
    <div class="row">
      <div class="col-md-6 mb-2">
        <button type="button" class="btn btn-primary w-100" (click)="create()">
          {{ nombrebtn }}
        </button>
      </div>
      <div class="col-md-6 mb-2">
        <button type="button" class="btn btn-secondary w-100" (click)="onNoClick()">
          Cerrar
        </button>
      </div>
    </div>
  </form>

  <!-- Lista -->
  <div class="alert alert-info my-4" *ngIf="listaregistrosFiltrados?.length == 0">
    No hay registros para mostrar.
  </div>

  <div *ngIf="listaregistrosFiltrados?.length > 0">
    <h5 class="mt-4">Listado de IPS</h5>
    <table class="table table-striped table-hover table-bordered table-sm mt-2">
      <thead class="table-primary">
        <tr>
          <th>#</th>
          <th>NIT</th>
          <th>Nombre</th>
          <th>Gestión</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of listaregistrosFiltrados; let i = index"
            [ngClass]="{'text-muted': !item.estado}">
          <td>{{ i + 1 }}</td>
          <td>{{ item.nit }}</td>
          <td>{{ primerasmayusculas(item.nombre) }}</td>
          <td>

              <mat-icon title="Actualizar la IPS" class="pointer-cursor" [ngStyle]="{'color':'#009A94'}"
                            (click)="mostrarRegistro(item)">edit</mat-icon>

                        <mat-icon title="Eliminar la IPS" class="pointer-cursor" [ngStyle]="{'color':'red'}"
                            (click)="eliminarRegistro(item)">delete_sweep</mat-icon>
           
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
